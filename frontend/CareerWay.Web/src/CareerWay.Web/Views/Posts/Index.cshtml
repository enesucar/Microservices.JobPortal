@using CareerWay.Web.Models.Post
@{
	ViewData["Title"] = "İş İlanları";
	ViewData["BreadcrumbTitle"] = "İş İlanları";
}

@model PostSearchRequest

<style>
	.scrollable-filter {
		max-height: 300px;
		overflow-y: auto;
		overflow-x: hidden;
	}
</style>
<section class="py-2 br-bottom br-top">
	<div class="container">
		<div class="row align-items-center justify-content-between">
			<div class="col-xl-3 col-lg-4 col-md-5 col-sm-12">
				<h6 class="mb-0 ft-medium fs-sm">10 İş İlanları</h6>
			</div>

			<div class="col-xl-9 col-lg-8 col-md-7 col-sm-12">
				<div class="filter_wraps elspo_wrap d-flex align-items-center justify-content-end">
					<div class="single_fitres pe-3 br-right">
						<select class="form-select">
							<option value="1" selected="">Varsayılan Sıralama</option>
							<option value="2">Recent jobs</option>
							<option value="3">Featured jobs</option>
							<option value="4">Trending Jobs</option>
							<option value="5">Premium jobs</option>
						</select>
					</div>
					<div class="single_fitres ps-2">
						<a href="job-search-v1.html" class="simple-button me-1"><i class="ti-layout-grid2"></i></a>
						<a href="job-list-v1.html" class="simple-button theme-cl active"><i class="ti-view-list"></i></a>
					</div>
				</div>
			</div>
		</div>

	</div>
</section>

<section class="bg-light">
	<div class="container">
		<div class="row">

			<div class="col-lg-4 col-md-12 col-sm-12">
				<div class="bg-white rounded">

					<div class="sidebar_header d-flex align-items-center justify-content-between px-4 py-3 br-bottom">
						<h4 class="ft-medium fs-lg mb-0">Filtreleme</h4>
						<div class="ssh-header">
							<a href="javascript:void(0);" class="clear_all ft-medium text-muted">Temizle</a>
							<a href="#search_open" data-bs-toggle="collapse" aria-expanded="false" role="button" class="collapsed _filter-ico ms-2"><i class="lni lni-text-align-right"></i></a>
						</div>
					</div>

					<!-- Find New Property -->
					<div class="sidebar-widgets collapse miz_show" id="search_open" data-parent="#search_open">
						<form asp-action="Index" asp-controller="Home">

						<div class="search-inner">

							<div class="filter-search-box px-4 pt-3 pb-0">
								<div class="form-group">
									<input asp-for="Text" type="text" class="form-control" placeholder="Aradığınız iş">
								</div>
								<div class="form-group">
									<select asp-items="ViewBag.Cities" class="form-control">
										<option value="">Şehir</option>
									</select>
								</div>
							</div>

 
								<div class="filter_wraps"> 
									<!-- Job Skills Search -->
									<div class="single_search_boxed px-4 pt-0 br-bottom">
										<div class="widget-boxed-header">
											<h4>
												<a href="#skills" data-bs-toggle="collapse" aria-expanded="false" role="button" class="ft-medium fs-md pb-0 collapsed">Pozisyonlar</a>
											</h4>

										</div>
										<div class="widget-boxed-body collapse" id="skills" data-parent="#skills">
											<div class="side-list no-border">
												<!-- Single Filter Card -->
												<div class="single_filter_card">
													<div class="card-body p-0">
														<div class="inner_widget_link scrollable-filter">
															<ul class="no-ul-list filter-list">
																 @foreach (var position in ViewBag.Positions as IEnumerable<Position>)
																{
																	<li>
																		<input id="position_@position.Id"
																			   class="checkbox-custom" 
																			   type="checkbox"
																			   name="Positions"
																			   value="@position.Id"
																			   @(Model.Positions.Contains(position.Id) ? "checked" : "") />
																		<label for="position_@position.Id" class="checkbox-custom-label">@position.Name</label>
																	</li>
																}  
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="single_search_boxed px-4 pt-0 br-bottom">
										<div class="widget-boxed-header">
											<h4>
												<a href="#skills" data-bs-toggle="collapse" aria-expanded="false" role="button" class="ft-medium fs-md pb-0 collapsed">Departmantlar</a>
											</h4>

									 	</div>
										<div class="widget-boxed-body collapse" id="skills" data-parent="#skills">
											<div class="side-list no-border">
												<!-- Single Filter Card -->
												<div class="single_filter_card">
													<div class="card-body p-0">
														<div class="inner_widget_link scrollable-filter">
															<ul class="no-ul-list filter-list">
																@foreach (var departmant in ViewBag.Departments as IEnumerable<Departmant>)
																{
																	<li>
																		<input id="departmant_@departmant.Id"
																			   class="checkbox-custom"
																			   type="checkbox"
																			   name="Departmants"
																			   value="@departmant.Id"
																			   @(Model.Departmants.Contains(departmant.Id) ? "checked" : "") />
																		<label for="departmant_@departmant.Id" class="checkbox-custom-label">@departmant.Name</label>
																	</li>
																}
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<!-- Experience Search -->
									<div class="single_search_boxed px-4 pt-0 br-bottom">
										<div class="widget-boxed-header">
											<h4>
												<a href="#experience" data-bs-toggle="collapse" aria-expanded="false" role="button" class="ft-medium fs-md pb-0 collapsed">Çalışma Tipi</a>
											</h4>

										</div>
										<div class="widget-boxed-body collapse" id="experience" data-parent="#experience">
											<div class="side-list no-border">
												<!-- Single Filter Card -->
												<div class="single_filter_card">
													<div class="card-body p-0">
														<div class="inner_widget_link">
															<ul class="no-ul-list filter-list">
																<li>
																	<input id="d1" class="checkbox-custom" name="ADA" type="checkbox" checked="">
																	<label for="d1" class="checkbox-custom-label">Beginner (54)</label>
																</li>
																<li>
																	<input id="d2" class="checkbox-custom" name="Parking" type="checkbox">
																	<label for="d2" class="checkbox-custom-label">1+ Year (32)</label>
																</li>
																<li>
																	<input id="d3" class="checkbox-custom" name="Coffee" type="checkbox">
																	<label for="d3" class="checkbox-custom-label">2 Year (09)</label>
																</li>
																<li>
																	<input id="d4" class="checkbox-custom" name="Mother" type="checkbox">
																	<label for="d4" class="checkbox-custom-label">3+ Year (16)</label>
																</li>
																<li>
																	<input id="d5" class="checkbox-custom" name="Outdoor" type="checkbox">
																	<label for="d5" class="checkbox-custom-label">4+ Year (17)</label>
																</li>
																<li>
																	<input id="d6" class="checkbox-custom" name="Pet" type="checkbox">
																	<label for="d6" class="checkbox-custom-label">5+ Year (22)</label>
																</li>
																<li>
																	<input id="d7" class="checkbox-custom" name="Beauty" type="checkbox">
																	<label for="d7" class="checkbox-custom-label">10+ Year (32)</label>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<!-- Job types Search -->
									<div class="single_search_boxed px-4 pt-0 br-bottom">
										<div class="widget-boxed-header">
											<h4>
												<a href="#jbtypes" data-bs-toggle="collapse" aria-expanded="false" role="button" class="ft-medium fs-md pb-0 collapsed">Tecrübe</a>
											</h4>

										</div>
										<div class="widget-boxed-body collapse" id="jbtypes" data-parent="#jbtypes">
											<div class="side-list no-border">
												<!-- Single Filter Card -->
												<div class="single_filter_card">
													<div class="card-body p-0">
														<div class="inner_widget_link">
															<ul class="no-ul-list filter-list">
																<li>
																	<input id="e2" class="radio-custom" name="jtype" type="radio">
																	<label for="e2" class="radio-custom-label">Full time</label>
																</li>
																<li>
																	<input id="e3" class="radio-custom" name="jtype" type="radio">
																	<label for="e3" class="radio-custom-label">Part Time</label>
																</li>
																<li>
																	<input id="e4" class="radio-custom" name="jtype" type="radio" checked="">
																	<label for="e4" class="radio-custom-label">Contract Base</label>
																</li>
																<li>
																	<input id="e5" class="radio-custom" name="jtype" type="radio">
																	<label for="e5" class="radio-custom-label">Internship</label>
																</li>
																<li>
																	<input id="e6" class="radio-custom" name="jtype" type="radio">
																	<label for="e6" class="radio-custom-label">Regular</label>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
 
								</div>

								<div class="form-group filter_button pt-2 pb-4 px-4">
									<button type="submit" class="btn btn-md theme-bg text-light rounded full-width">Filtrele</button>
								</div>
						</div>

						</form>
					</div>
				</div>
				<!-- Sidebar End -->

			</div>

			<!-- Item Wrap Start -->
			<div class="col-lg-8 col-md-12 col-sm-12">

				<!-- row -->
				<div class="row align-items-center g-xl-3 g-lg-3 g-3"> 

					@foreach(var post in Model.Data)
					{ 
						<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
							<div class="jbr-wrap text-left border rounded">
								<div class="cats-box mlb-res rounded bg-white d-flex align-items-center justify-content-between px-3 py-3">
									<div class="cats-box rounded bg-white d-flex align-items-center">
										<div class="text-center"><img src="assets/img/c-2.png" class="img-fluid" width="55" alt=""></div>
										<div class="cats-box-caption px-2">
											<h4 class="fs-md mb-0 ft-medium"><a href="/is-ilanlari/@post.Slug-@post.Id">@post.Title</a></h4>
											<div class="d-block mb-2 position-relative">
												<span class="text-muted medium"><i class="lni lni-apartment me-1"></i>@post.Company.Title</span>
												<span class="text-muted medium"><i class="lni lni-map-marker me-1"></i>@post.City.Name</span>
												<span class="muted medium ms-2 text-purple"><i class="lni lni-briefcase me-1"></i>@post.WorkingType.GetDisplayName()</span>
											</div>
										</div>
									</div>
									<div class="text-center mlb-last"><a href="/is-ilanlari/@post.Slug" class="btn gray ft-medium apply-btn fs-sm rounded">Başvur<i class="lni lni-arrow-right-circle ms-1"></i></a></div>
								</div>
							</div>
						</div>
					} 
				</div>
				<!-- row -->

				<div class="row">
					<div class="col-lg-12 col-md-12 col-sm-12">
						<ul class="pagination">
							<li class="page-item">
								<a class="page-link" href="#" aria-label="Previous">
									<span class="fas fa-arrow-circle-left"></span>
									<span class="sr-only">Previous</span>
								</a>
							</li>
							<li class="page-item active"><a class="page-link" href="#">1</a></li>
							<li class="page-item"><a class="page-link" href="#">2</a></li>
							<li class="page-item"><a class="page-link" href="#">3</a></li>
							<li class="page-item"><a class="page-link" href="#">...</a></li>
							<li class="page-item"><a class="page-link" href="#">18</a></li>
							<li class="page-item">
								<a class="page-link" href="#" aria-label="Next">
									<span class="fas fa-arrow-circle-right"></span>
									<span class="sr-only">Next</span>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>